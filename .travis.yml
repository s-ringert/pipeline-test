language: php
php:
  - 7.2

install:
  - composer self-update
  - composer install

script:
  - composer cs-check
  - composer stan
  - composer test

notifications:
  email:
    on_success: never
    on_failure: always

jobs:
  include:
    - stage: codestyle
      script:
        - composer cs-check
    - stage: analyse
      script:
        - composer stan
    - stage: test
      script:
        - composer test

#stages:
 # - composer
  #- testing
  #- build
  #- name: deploy
   # if: branch = master
